<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Aprendiendolasletras</title>
<style>
  :root{
    --bg:#001f4d; --card:#003366; --accent:#ffcc00; --good:#1db954; --bad:#e74c3c; --ink:#ffffff;
  }
  *{box-sizing:border-box}
  body{margin:0; font-family: Arial, Helvetica, sans-serif; background:var(--bg); color:var(--ink);}
  header{padding:24px 16px; text-align:center; background:linear-gradient(180deg, #002b80, #001f4d); border-bottom:2px solid var(--accent);}
  h1{margin:0; color:var(--accent); font-size: 2rem;}
  nav{display:flex; flex-wrap:wrap; gap:8px; justify-content:center; padding:12px 16px;}
  nav a{color:#001f4d; background:var(--accent); padding:6px 10px; border-radius:999px; text-decoration:none; font-weight:bold; font-size:.9rem;}
  main{padding:24px 12px; max-width:1100px; margin:0 auto;}
  section.card{background:var(--card); border:1px solid #0b3a7a; border-radius:16px; padding:18px; margin:18px auto;}
  h2{color:var(--accent); margin-top:0; text-align:center;}
  .rules{background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15); padding:12px; border-radius:10px;}
  .rules ul{margin:.5em 0 .2em 1.2em}
  .rules li{margin:.2em 0}
  .words{margin-top:8px; font-weight:bold; color:#8ef0ff; text-align:center;}
  .grid{display:grid; grid-template-columns: repeat(10, 34px); gap:6px; justify-content:center; margin:14px auto;}
  .cell{width:34px; height:34px; display:flex; align-items:center; justify-content:center; border-radius:6px; cursor:pointer; font-weight:bold; background:#fff; color:#000; user-select:none; transition:transform .06s ease;}
  .cell:active{transform:scale(.96)}
  .cell.correct{background:var(--good)!important; color:#fff!important;}
  .cell.wrong{background:var(--bad)!important; color:#fff!important;}
  .actions{display:flex; gap:10px; justify-content:center; margin-top:10px;}
  button{border:none; border-radius:10px; padding:10px 14px; font-weight:bold; cursor:pointer; background:var(--accent); color:#001f4d;}
  button:hover{filter:brightness(.95)}
  footer{padding:32px 12px; text-align:center; color:#cbd6ff; border-top:1px solid #0b3a7a; margin-top:30px;}
  .source{font-size:.9rem; opacity:.9; margin-top:6px; text-align:center;}
</style>
</head>
<body>
<header>
  <h1>Los usos de las letras</h1>
  <nav>
    <a href="#letra-b">B</a><a href="#letra-v">V</a><a href="#letra-c">C</a><a href="#letra-z">Z</a>
    <a href="#letra-s">S</a><a href="#letra-g">G</a><a href="#letra-j">J</a><a href="#letra-h">H</a>
    <a href="#agudas">Agudas</a><a href="#graves">Graves</a><a href="#esdrujulas">Esdrújulas</a><a href="#sobreesdrujulas">Sobreesdrújulas</a>
  </nav>
</header>
<main>

  <!-- B -->
  <section class="card" id="letra-b">
    <h2>Uso de la B</h2>
    <div class="rules">
      <ul>
        <li>Después de <b>m</b>: <i>ombligo, ambos</i>.</li>
        <li>Antes de <b>r</b> y <b>l</b> (br, bl): <i>brasa, blanco</i>.</li>
        <li>Prefijos <b>bi-, bis-, biz-, bene-, bien-, bon-</b>: <i>bisabuelo, bienestar</i>.</li>
        <li>Verbos en <b>-bir</b> y <b>-buir</b> (excepciones: <i>vivir, servir, hervir</i>).</li>
        <li>Pret. imperfecto de -ar: <b>-aba, -abas...</b> (<i>cantaba, estaba</i>).</li>
        <li>En <b>-bilidad</b> (excep.: <i>movilidad</i>), y en <b>bu-, bur-, bus-</b>.</li>
      </ul>
    </div>
    <div class="words">Palabras: OMBLIGO, AMBOS, BRASA, BLANCO, BUSCAR</div>
    <div class="grid" id="grid-b"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-b')">Revelar respuestas</button>
    </div>
  </section>

  <!-- V -->
  <section class="card" id="letra-v">
    <h2>Uso de la V</h2>
    <div class="rules">
      <ul>
        <li>Después de <b>n, d, b</b>: <i>envolver, advertir, obvio</i>.</li>
        <li>Prefijos <b>eva-, eve-, evi-, evo-</b>: <i>evento, evitar, evolución</i>.</li>
        <li>Comienza con <b>vice-</b> y muchas con <b>villa-</b> (excepc.: <i>billar</i>).</li>
        <li>Verbos en <b>-olver</b>: <i>resolver, volver</i>.</li>
        <li>Terminaciones <b>-ívoro/-a</b>: <i>herbívoro</i>.</li>
      </ul>
    </div>
    <div class="words">Palabras: ENVOLVER, ADVERTIR, OBVIO, EVENTO, VOLVER</div>
    <div class="grid" id="grid-v"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-v')">Revelar respuestas</button>
    </div>
  </section>

  <!-- C -->
  <section class="card" id="letra-c">
    <h2>Uso de la C</h2>
    <div class="rules">
      <ul>
        <li>Suave ante <b>e, i</b> (<i>celebrar, cine</i>); fuerte ante <b>a, o, u</b> (<i>cama, cosa, cuna</i>).</li>
        <li>En <b>-ción</b> (de -tor); <b>-cimiento</b>; diminutivos (<i>pececito</i>).</li>
        <li>Plurales: <i>pez → peces</i>.</li>
        <li>Frecuente en verbos <b>-cer, -cir, -ceder</b>.</li>
      </ul>
    </div>
    <div class="words">Palabras: CELEBRAR, CINE, CAMA, CANCION, PECECITO</div>
    <div class="grid" id="grid-c"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-c')">Revelar respuestas</button>
    </div>
  </section>

  <!-- Z -->
  <section class="card" id="letra-z">
    <h2>Uso de la Z</h2>
    <div class="rules">
      <ul>
        <li>Ante <b>a, o, u</b>: <i>zapato, zorro, zumo</i>.</li>
        <li>Plurales: <i>luz → luces, lápiz → lápices</i>.</li>
        <li>Sufijos <b>-azo</b>, <b>-ez</b>; y en palabras como <i>mestizo</i>.</li>
        <li>Puede aparecer en <i>zigzag</i>.</li>
      </ul>
    </div>
    <div class="words">Palabras: ZAPATO, ZOOLOGICO, ZUMO, BALONAZO, LUCES</div>
    <div class="grid" id="grid-z"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-z')">Revelar respuestas</button>
    </div>
  </section>

  <!-- S -->
  <section class="card" id="letra-s">
    <h2>Uso de la S</h2>
    <div class="rules">
      <ul>
        <li>Sonido suave en muchas palabras: <i>casa, mesa</i>.</li>
        <li>Sufijos <b>-ense</b>, <b>-sivo/-siva</b>, <b>-sión</b> (de -so/-sor/-sivo), <b>-ísimo/-ísima</b>.</li>
      </ul>
    </div>
    <div class="words">Palabras: CANADIENSE, DECISIVO, PRESION, FELICISIMO, CASA</div>
    <div class="grid" id="grid-s"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-s')">Revelar respuestas</button>
    </div>
  </section>

  <!-- G -->
  <section class="card" id="letra-g">
    <h2>Uso de la G</h2>
    <div class="rules">
      <ul>
        <li>Suave ante <b>e, i</b>: <i>gente, girar</i> (con <i>gue/gui</i> se mantiene fuerte).</li>
        <li>Se mantiene en gerundios: <i>jugando, corriendo</i>.</li>
        <li>En terminaciones: <b>-gen, -gio, -gia, -gionario</b>.</li>
      </ul>
    </div>
    <div class="words">Palabras: GENTE, GIRAR, JUGANDO, ORIGEN, GEOLOGIA</div>
    <div class="grid" id="grid-g"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-g')">Revelar respuestas</button>
    </div>
  </section>

  <!-- J -->
  <section class="card" id="letra-j">
    <h2>Uso de la J</h2>
    <div class="rules">
      <ul>
        <li>Plural: <i>reloj → relojes</i>.</li>
        <li>Sufijos <b>-jear</b>, <b>-jero/-jera</b>, <b>-jería</b>.</li>
        <li>Diminutivos y derivados: <i>conejo, festejo</i>.</li>
      </ul>
    </div>
    <div class="words">Palabras: RELOJES, VIAJERO, FESTEJO, CONEJO, TRAJEAR</div>
    <div class="grid" id="grid-j"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-j')">Revelar respuestas</button>
    </div>
  </section>

  <!-- H -->
  <section class="card" id="letra-h">
    <h2>Uso de la H</h2>
    <div class="rules">
      <ul>
        <li>No tiene sonido propio.</li>
        <li>Con <b>hum-</b>: <i>humano, humo</i>.</li>
        <li>En diptongos intercalada: <i>ahí, ahora</i>.</li>
        <li>Derivados: <i>hielo → helado</i>.</li>
      </ul>
    </div>
    <div class="words">Palabras: HUMANO, HUMO, AHORA, HIELO, HELADO</div>
    <div class="grid" id="grid-h"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-h')">Revelar respuestas</button>
    </div>
  </section>

  <!-- Acentuación -->
  <section class="card" id="agudas">
    <h2>Reglas de acentuación — Agudas</h2>
    <div class="rules">
      <ul>
        <li>Llevan tilde cuando terminan en <b>n, s</b> o <b>vocal</b>. Ej.: <i>canción, café, además, francés, menú</i>.</li>
      </ul>
    </div>
    <div class="words">Palabras: CANCION, CAFE, ADEMAS, MENU, FRANCES</div>
    <div class="grid" id="grid-agudas"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-agudas')">Revelar respuestas</button>
    </div>
  </section>

  <section class="card" id="graves">
    <h2>Reglas de acentuación — Graves</h2>
    <div class="rules">
      <ul>
        <li>Llevan tilde cuando <b>no</b> terminan en <b>n, s</b> o <b>vocal</b>. Ej.: <i>árbol, cárcel, cáliz, lápiz, difícil, mártir</i>.</li>
      </ul>
    </div>
    <div class="words">Palabras: ARBOL, CARCEL, CALIZ, LAPIZ, DIFICIL</div>
    <div class="grid" id="grid-graves"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-graves')">Revelar respuestas</button>
    </div>
  </section>

  <section class="card" id="esdrujulas">
    <h2>Reglas de acentuación — Esdrújulas</h2>
    <div class="rules">
      <ul>
        <li>Siempre llevan tilde (antepenúltima sílaba). Ej.: <i>música, pájaro</i>.</li>
      </ul>
    </div>
    <div class="words">Palabras: MUSICA, PAJARO, TELEFONO, CESPED, PRACTICA</div>
    <div class="grid" id="grid-esdrujulas"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-esdrujulas')">Revelar respuestas</button>
    </div>
  </section>

  <section class="card" id="sobreesdrujulas">
    <h2>Reglas de acentuación — Sobreesdrújulas</h2>
    <div class="rules">
      <ul>
        <li>Siempre llevan tilde; la sílaba tónica está <b>antes</b> de la antepenúltima. Ej.: <i>llévatelo, dándoselo, devuélvase</i>.</li>
      </ul>
    </div>
    <div class="words">Palabras: LLEVATELO, DANDOSELO, DEVUELVASE, PONGASELO, MIRESELO</div>
    <div class="grid" id="grid-sobreesdrujulas"></div>
    <div class="actions">
      <button onclick="toggleReveal('grid-sobreesdrujulas')">Revelar respuestas</button>
    </div>
  </section>

</main>

<footer>
  Hecho por Patricio Martinez y Samuel Muñoz de 4C
  <div class="source">Sitio: <b>Aprendiendolasletras</b></div>
</footer>

<script>
/* ====== Motor de sopa de letras (10x10) ======
   - Coloca palabras H, V o diagonal ↘
   - Click en una letra:
       * Si pertenece a una palabra → resalta TODA la palabra en verde (correcto).
       * Si no es parte de ninguna palabra → marca la celda en rojo (error fugaz).
   - Botón Revelar respuestas (toggle):
       * ON  → palabras en verde; demás letras en rojo.
       * OFF → limpia colores para volver a jugar.
*/
const LETTERS = "ABCDEFGHIJKLMNÑOPQRSTUVWXYZ";
const SIZE = 10;

// Estado por tablero
const boards = {};
/* boards[id] = {
     grid: [[...]],
     words: ["..."],
     posByWord: {WORD:[{r,c},...]},
     wordsByCell: {"r,c":["WORD",...]},
     revealed: false
} */

function createBoard(containerId, words) {
  const container = document.getElementById(containerId);
  container.innerHTML = "";
  const grid = Array.from({length: SIZE}, () => Array(SIZE).fill(""));
  const dirs = [{dr:0,dc:1}, {dr:1,dc:0}, {dr:1,dc:1}]; // H, V, diagonal ↘
  const posByWord = {};
  const wordsByCell = {};
  function canPlace(word, r, c, dr, dc) {
    if (r + dr * (word.length-1) >= SIZE) return false;
    if (c + dc * (word.length-1) >= SIZE) return false;
    for (let i=0;i<word.length;i++){
      const rr = r + dr*i, cc = c + dc*i;
      const ch = grid[rr][cc];
      if (ch !== "" && ch !== word[i]) return false;
    }
    return true;
  }
  function placeWord(word) {
    let attempts = 0;
    const W = word.toUpperCase();
    while (attempts < 400) {
      attempts++;
      const dir = dirs[Math.floor(Math.random()*dirs.length)];
      const startR = Math.floor(Math.random()*SIZE);
      const startC = Math.floor(Math.random()*SIZE);
      if (!canPlace(W, startR, startC, dir.dr, dir.dc)) continue;
      const coords = [];
      for (let i=0;i<W.length;i++){
        const rr = startR + dir.dr*i, cc = startC + dir.dc*i;
        grid[rr][cc] = W[i];
        coords.push({r:rr,c:cc});
      }
      posByWord[W] = coords;
      coords.forEach(({r,c})=>{
        const key = r+","+c;
        if(!wordsByCell[key]) wordsByCell[key]=[];
        wordsByCell[key].push(W);
      });
      return true;
    }
    return false;
  }

  // Colocar todas las palabras
  for (const w of words) {
    if (!placeWord(w)) {
      console.warn("No cupo la palabra", w, "en", containerId);
    }
  }
  // Rellenar vacíos
  for (let r=0;r<SIZE;r++){
    for (let c=0;c<SIZE;c++){
      if (grid[r][c] === "") grid[r][c] = LETTERS[Math.floor(Math.random()*LETTERS.length)];
      const cell = document.createElement("div");
      cell.className = "cell";
      cell.textContent = grid[r][c];
      cell.dataset.r = r; cell.dataset.c = c;
      cell.addEventListener("click", () => onCellClick(containerId, r, c));
      container.appendChild(cell);
    }
  }
  boards[containerId] = {grid, words: words.map(w=>w.toUpperCase()), posByWord, wordsByCell, revealed:false};
}

function cellEl(containerId, r, c){
  return document.querySelector(`#${containerId} .cell[data-r='${r}'][data-c='${c}']`);
}

function clearColors(containerId){
  document.querySelectorAll(`#${containerId} .cell`).forEach(el=>{
    el.classList.remove("correct","wrong");
  });
}

function paintWord(containerId, word, cls){
  const info = boards[containerId];
  const coords = info.posByWord[word];
  if (!coords) return;
  coords.forEach(({r,c}) => cellEl(containerId,r,c).classList.add(cls));
}

function onCellClick(containerId, r, c){
  const info = boards[containerId];
  if (info.revealed) return; // no interactuar mientras está revelado
  // Limpia colores previos (solo errores temporales)
  // (dejamos correctos marcados si ya se había hecho clic en otra palabra)
  const key = r+","+c;
  const list = info.wordsByCell[key] || [];
  if (list.length === 0){
    const el = cellEl(containerId, r, c);
    el.classList.add("wrong");
    setTimeout(()=>el.classList.remove("wrong"), 450);
    return;
  }
  // Si hay varias palabras que cruzan, alternar cuál se muestra
  let idxKey = `idx_${key}`;
  info[idxKey] = (info[idxKey] || 0) % list.length;
  const chosen = list[info[idxKey]];
  info[idxKey]++;
  // Pintar esa palabra en verde
  paintWord(containerId, chosen, "correct");
}

function toggleReveal(containerId){
  const info = boards[containerId];
  const btn = document.querySelector(`button[onclick="toggleReveal('${containerId}')"]`);
  if (!info.revealed){
    // Revelar: todas las letras en rojo, luego pintar palabras en verde
    document.querySelectorAll(`#${containerId} .cell`).forEach(el=>el.classList.add("wrong"));
    for (const w of info.words) paintWord(containerId, w, "correct");
    info.revealed = true;
    if (btn) btn.textContent = "Ocultar respuestas";
  }else{
    // Volver a modo juego
    info.revealed = false;
    clearColors(containerId);
    if (btn) btn.textContent = "Revelar respuestas";
  }
}

// Inicializar todos los tableros
window.addEventListener("DOMContentLoaded", () => {
  createBoard("grid-b", ["OMBLIGO","AMBOS","BRASA","BLANCO","BUSCAR"]);
  createBoard("grid-v", ["ENVOLVER","ADVERTIR","OBVIO","EVENTO","VOLVER"]);
  createBoard("grid-c", ["CELEBRAR","CINE","CAMA","CANCION","PECECITO"]);
  createBoard("grid-z", ["ZAPATO","ZOOLOGICO","ZUMO","BALONAZO","LUCES"]);
  createBoard("grid-s", ["CANADIENSE","DECISIVO","PRESION","FELICISIMO","CASA"]);
  createBoard("grid-g", ["GENTE","GIRAR","JUGANDO","ORIGEN","GEOLOGIA"]);
  createBoard("grid-j", ["RELOJES","VIAJERO","FESTEJO","CONEJO","TRAJEAR"]);
  createBoard("grid-h", ["HUMANO","HUMO","AHORA","HIELO","HELADO"]);
  createBoard("grid-agudas", ["CANCION","CAFE","ADEMAS","MENU","FRANCES"]);
  createBoard("grid-graves", ["ARBOL","CARCEL","CALIZ","LAPIZ","DIFICIL"]);
  createBoard("grid-esdrujulas", ["MUSICA","PAJARO","TELEFONO","CESPED","PRACTICA"]);
  createBoard("grid-sobreesdrujulas", ["LLEVATELO","DANDOSELO","DEVUELVASE","PONGASELO","MIRESELO"]);
});
</script>
</body>
</html>
